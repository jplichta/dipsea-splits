<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dipsea Race Split Calculator</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container">
  <h1>Dipsea Split Calculator</h1>
  <p class="subtitle">Based on 2025 results &middot; 10 checkpoints</p>

  <!-- Runner profile -->
  <div class="inputs">
    <div class="field">
      <label>Sex</label>
      <select id="sex">
        <option value="M" selected>Male</option>
        <option value="F">Female</option>
      </select>
    </div>
    <div class="field">
      <label>Age</label>
      <input type="number" id="age" min="6" max="100" value="21">
    </div>
    <div class="field">
      <label>Section</label>
      <select id="section">
        <option value="INV" selected>Invitational</option>
        <option value="DR">Dipsea Runner</option>
      </select>
    </div>
    <div class="field" style="justify-content:flex-end;">
      <div class="group-badge" id="group-info"></div>
    </div>
  </div>
  <div class="start-info" id="start-info"></div>

  <!-- Terrain bias -->
  <div class="bias-control">
    <div class="bias-header">
      <label>Terrain Strength</label>
      <div class="bias-value" id="bias-value">Neutral</div>
    </div>
    <div class="bias-slider-row">
      <div class="bias-label-left">Uphill</div>
      <input type="range" id="bias" min="-2" max="2" step="0.5" value="0">
      <div class="bias-label-right">Downhill</div>
    </div>
    <div class="bias-ticks"><span>-2</span><span>-1</span><span>0</span><span>1</span><span>2</span></div>
    <div class="bias-desc" id="bias-desc"></div>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" data-tab="targets">Split Targets</div>
    <div class="tab" data-tab="predict">Predict Placement</div>
  </div>

  <!-- Tab 1: Split Targets -->
  <div class="tab-content active" id="tab-targets">
    <div class="results" id="results"></div>
    <div id="no-results">Select age and section to see split targets.</div>
  </div>

  <!-- Tab 2: Predict Placement -->
  <div class="tab-content" id="tab-predict">
    <div class="predict-inputs" id="input-split">
      <div class="field">
        <label>Segment</label>
        <select id="checkpoint">
          <optgroup label="From Start (Cumulative)">
            <option value="cum_s_pan">Start &rarr; Panoramic</option>
            <option value="cum_s_mw">Start &rarr; Muir Woods</option>
          </optgroup>
          <optgroup label="Full Segments">
            <option value="seg_s_m">Start &rarr; Muir Woods</option>
            <option value="seg_m_c">Muir Woods &rarr; Cardiac</option>
            <option value="seg_c_s">Cardiac &rarr; Stile</option>
            <option value="seg_s_f">Stile &rarr; Finish</option>
          </optgroup>
          <optgroup label="Sub-Segments">
            <option value="s_ts">Start &rarr; Top of Stairs</option>
            <option value="ts_wg">Top of Stairs &rarr; Windy Gap</option>
            <option value="s_wg">Start &rarr; Windy Gap</option>
            <option value="wg_mw">Windy Gap &rarr; Muir Woods</option>
            <option value="mw_dy">Muir Woods &rarr; Dynamite</option>
            <option value="dy_bc">Dynamite &rarr; Btm Cardiac</option>
            <option value="bc_ca">Btm Cardiac &rarr; Cardiac</option>
            <option value="ca_sr">Cardiac &rarr; SR Bridge</option>
            <option value="sr_st">SR Bridge &rarr; Stile</option>
            <option value="st_fi">Stile &rarr; Finish</option>
          </optgroup>
        </select>
      </div>
      <div class="field">
        <label>Split Time</label>
        <div class="time-input">
          <input type="number" id="split-h" min="0" max="9" value="" placeholder="H">
          <span class="sep">:</span>
          <input type="number" id="split-m" min="0" max="59" value="" placeholder="MM">
          <span class="sep">:</span>
          <input type="number" id="split-s" min="0" max="59" value="" placeholder="SS">
        </div>
      </div>
    </div>
    <div class="predict-divider"><span>or</span></div>
    <div class="predict-inputs" id="input-actual">
      <div class="field">
        <label>Target Finish Time</label>
        <div class="time-input">
          <input type="number" id="actual-h" min="0" max="9" value="" placeholder="H">
          <span class="sep">:</span>
          <input type="number" id="actual-m" min="0" max="59" value="" placeholder="MM">
          <span class="sep">:</span>
          <input type="number" id="actual-s" min="0" max="59" value="" placeholder="SS">
        </div>
      </div>
    </div>
    <div class="predict-divider"><span>or</span></div>
    <div class="predict-inputs" id="input-place">
      <div class="field">
        <label>Target Placement</label>
        <div class="place-presets">
          <button class="preset" data-place="1">1st</button>
          <button class="preset" data-place="35">35th</button>
          <button class="preset" data-place="100">100th</button>
          <button class="preset" data-place="450">450th</button>
        </div>
      </div>
      <div class="field">
        <label>Custom</label>
        <input type="number" id="target-place" min="1" max="1500" value="" placeholder="1â€“1500">
      </div>
    </div>
    <div id="predict-output"></div>
    <div id="predict-empty">Enter a split time, target finish time, or target placement.</div>
  </div>
</div>

<script src="js/data.js"></script>
<script src="js/app.js"></script>
</body>
</html>
